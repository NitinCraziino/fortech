import{e as y,r as o,b as E,u as S,d as L,j as e,L as k,B as F,f as B}from"./index-V67Iib8C.js";const C=()=>{const{errorToast:g}=y(),[l,b]=o.useState({email:"",password:""}),[i,n]=o.useState({email:"",password:""}),[m,u]=o.useState(!1),[x,w]=o.useState({}),j=E(),N=S(),{error:c}=L(a=>a.auth);o.useEffect(()=>{c&&g(c)},[c]);const p=(a,s)=>{if(a==="email"){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(s){if(!t.test(s))return"Invalid email format."}else return"Email is required."}if(a==="password")if(s){if(s.length<6)return"Password must be at least 6 characters long."}else return"Password is required."},h=a=>{const{name:s,value:t}=a.target;w(d=>({...d,[s]:!0}));const r=p(s,t);r&&n(d=>({...d,[s]:r}))},f=a=>{const{name:s,value:t}=a.target;b(r=>({...r,[s]:t})),n(r=>({...r,[s]:""}))},v=async a=>{a.preventDefault();const s={};if(Object.keys(l).forEach(t=>{const r=p(t,l[t]);r&&(s[t]=r)}),n(s),Object.keys(s).length===0){u(!0);try{console.log("Form submitted:",l),await j(B({email:l.email,password:l.password})).unwrap()&&N("/products")}catch(t){console.error("Login error:",t)}finally{u(!1)}}};return e.jsxs("div",{className:"grid grid-cols-2 p-6 h-full min-h-screen",children:[e.jsxs("div",{className:"px-3 flex flex-col justify-center items-center",children:[e.jsx("div",{className:"text-center flex justify-center md:mb-20 mb-4",children:e.jsx("img",{src:"images/mainLogo.png",alt:"",className:"max-w-[200px]"})}),e.jsxs("form",{onSubmit:v,className:"max-w-[447px] w-full mx-auto",children:[e.jsx("h1",{className:"text-2xl font-medium mb-12",children:"Login"}),e.jsxs("div",{className:"flex flex-col gap-9 mb-8",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"text-sm mb-2 inline-block",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",name:"email",value:l.email,onChange:f,onBlur:h,placeholder:"Enter your Email Address",className:"block border border-input rounded-sm outline-none px-3 py-[7px] text-sm w-full"}),x.email&&i.email&&e.jsx("p",{className:"text-xs text-red-500",children:i.email})]}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"text-sm mb-2 inline-block",children:"Password"}),e.jsx("input",{type:"password",placeholder:"password",name:"password",id:"password",onBlur:h,value:l.password,onChange:f,className:"block border border-input rounded-sm outline-none px-3 py-[7px] text-sm w-full"}),x.password&&i.password&&e.jsx("p",{className:"text-xs text-red-500",children:i.password})]}),e.jsx("div",{className:"text-right mt-2",children:e.jsx(k,{to:"/forgot-password",className:"text-muted hover:text-muted-foreground font-inter text-xs block",children:"Forgot password?"})})]})]}),e.jsx(F,{disabled:m,variant:"default",className:"min-w-[130px]",type:"submit",children:m?"Logging in...":"Login"})]})]}),e.jsxs("div",{className:"rounded-lg flex justify-center items-center bg-secondary relative",children:[e.jsx("img",{src:"images/authImage.png",alt:"auth-image",className:"max-w-[526px] w-full"}),e.jsx("p",{className:"text-sm text-[#334155] absolute bottom-6 right-6",children:"*Terms & Conditions"})]})]})};export{C as default};
